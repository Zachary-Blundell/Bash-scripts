#!/bin/bash

# Function to display an informational message with yad
show_info_message() {
  yad --info --text="$1" --timeout=2
}

# Function to display an error message with yad
show_error_message() {
  yad --error --text="$1" --timeout=4
}

# Variable to store the password
password=""
# Function to prompt for password if not already set
getPassword() {
  if [ -z "$password" ]; then
    password=$(yad --password --title="Enter Password" --width=300)
  fi
}

# Function to shutdown processes
shutdown_processes() {
  show_info_message "Shutdowning unnecessary tasks" --timeout=0.5
  # Check if the password is correct
  # Terminate non-essential processes
  show_info_message "Terminating non-essential processes..." --timeout=0.5
  pkill -f firedragon
  pkill -f brave
  pkill -f whatsapp-for-linux
  pkill -f steam
  pkill -f signal-desktop
  pkill -f teams
  pkill -f morgen

  # Stop and disable background services
  show_info_message "Stopping background services..." --timeout=0.5
  sudo systemctl stop nordvpnd

  show_info_message "Optimization for sever complete." --timeout=0.5
}

shutdown_processes
